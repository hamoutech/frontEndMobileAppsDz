"use strict";(self.webpackChunkMobileApps=self.webpackChunkMobileApps||[]).push([[5558],{44662:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(65043),s=n(83003),l=n(79951),c=n(70579);const i=(0,s.Ng)((e=>{let{theme:t}=e;const{navType:n}=t;return{navType:n}}),{})((e=>{let{children:t,background:n,className:s,overlap:i,navType:r}=e;const[d,o]=(0,a.useState)(0),u=(0,a.useRef)(null);(0,a.useEffect)((()=>{if(r===l.HG){const e=window.innerWidth,t=u.current.offsetWidth;o((e-t)/2)}}),[r]);return(0,c.jsx)("div",{ref:u,className:"page-header-alt ".concat(s||""," ").concat(i&&"overlap"),style:(()=>{let e={backgroundImage:n?"url(".concat(n,")"):"none"};return r===l.HG&&(e.marginRight=-d,e.marginLeft=-d,e.paddingLeft=0,e.paddingRight=0),e})(),children:r===l.HG?(0,c.jsx)("div",{className:"container",children:t}):(0,c.jsx)(c.Fragment,{children:t})})}))},8572:(e,t,n)=>{n.d(t,{A:()=>l});n(65043);var a=n(70579);const s=e=>{const{children:t,className:n,alignItems:s,justifyContent:l,mobileFlex:c,flexDirection:i}=e;return(0,a.jsx)("div",{className:"".concat(c?"d-flex":"d-md-flex"," ").concat(n," ").concat(i?"flex-"+i:""," ").concat(s?"align-items-"+s:""," ").concat(l?"justify-content-"+l:""),children:t})};s.defaultProps={mobileFlex:!0,flexDirection:"row",className:""};const l=s},45954:(e,t,n)=>{n.d(t,{A:()=>I});var a=n(65043),s=n(94406),l=n(50289),c=n(33307),i=n(48193),r=n(77962),d=n(47419),o=n(11645),u=n(37671),m=n(41264),h=n(89421),f=n(63390),p=n(86178),A=n.n(p),x=n(83003),v=n(13271),b=n(73216),j=n(44978),y=n(43443),g=n(60751),w=n(44662),C=n(8572),k=n(70579);const{Option:N}=s.A,D="ADD",E="EDIT",I=e=>{let{mode:t}=e;const[n]=l.A.useForm(),p=(0,x.wA)(),{TextArea:N}=c.A,{error:I,live:F,loading:O}=(0,x.d4)((e=>e.lives)),{matchs:R}=(0,x.d4)((e=>e.matchs)),[T,P]=(0,a.useState)([]);(0,a.useEffect)((()=>{if(R){const e=R.map((e=>({value:e._id,label:e.titled})));P(e)}}),[R]);const[S,Y]=(0,a.useState)(null),{id:q}=(0,b.g)(),L=(0,b.Zp)();(0,a.useEffect)((()=>{p((0,y.wz)()),p((0,g.Js)())}),[p]);const{user:M}=(0,x.d4)((e=>e.auth));(0,a.useEffect)((()=>{t===E&&p((0,v.fo)(q))}),[p,t,q]),(0,a.useEffect)((()=>{if(t===E&&F){const e={...F,date:A()(F.creationDate)};n.setFieldsValue(e)}}),[n,t,F]),(0,a.useEffect)((()=>{t===D&&n.setFieldValue("display",!0)}),[n,t,F]),(0,a.useEffect)((()=>{p((0,v.Fc)())}),[]);function H(e){if(e){const t=new URL(e);if(t.pathname.includes("/embed/"))t.search="modestbranding=1&showinfo=0&rel=0";else{const e=t.searchParams.get("v");if(!e)return"";{const n="/embed/".concat(e);t.pathname=n,t.search="modestbranding=1&showinfo=0&rel=0"}}return t.href}return""}return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(l.A,{layout:"vertical",form:n,onFinish:async()=>{try{const e=await n.validateFields(),a={...e,creationDate:e.date.format("YYYY-MM-DD"),link:H(e.link)},{...s}=a;t===D&&(await p((0,v.hv)(s)).unwrap(),i.Ay.success((0,j.t)("Live added successfully!"),1),L(-1)),t===E&&(await p((0,v.WF)({id:F._id,data:s})).unwrap(),await i.Ay.success((0,j.t)("Live updated!"),1),L(-1))}catch(I){i.Ay.error(I)}finally{p((0,v.RZ)())}},name:"live-form",className:"ant-advanced-search-form",initialValues:S,children:[(0,k.jsx)(w.A,{className:"border-bottom mb-4",children:(0,k.jsx)("div",{className:"container",children:(0,k.jsx)(C.A,{mobileFlex:!1,justifyContent:"between",alignItems:"center",children:(0,k.jsx)("div",{children:(0,k.jsx)("h2",{className:"mb-3",style:{display:"inline-block"},children:"ADD"===t?(0,j.t)("Add a live"):"".concat((0,j.t)("Edit live"))})})})})}),(0,k.jsx)("div",{className:"container",children:(0,k.jsx)(r.A,{size:"large",children:(0,k.jsxs)(d.A,{gutter:16,children:[t&&(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,j.t)("newslist.table.newsCell"),name:"titled",rules:[{required:!0,message:(0,j.t)("Required title")}],children:(0,k.jsx)(c.A,{})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,j.t)("link"),name:"link",rules:[{required:!0,message:(0,j.t)("Required link")}],children:(0,k.jsx)(c.A,{})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,j.t)("Date"),name:"date",rules:[{required:!0,message:(0,j.t)("Please select a day")}],children:(0,k.jsx)(u.A,{style:{width:"100%"},format:"YYYY-MM-DD"})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,j.t)("display"),name:"display",valuePropName:"checked",children:(0,k.jsx)(m.A,{defaultChecked:null===F||void 0===F?void 0:F.display})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,j.t)("Link to a match"),name:"match",children:(0,k.jsx)(s.A,{showSearch:!0,optionFilterProp:"children",options:T,style:{width:"100%"}})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,j.t)("Description"),name:"description",rules:[{required:!0,message:(0,j.t)("Required description")}],children:(0,k.jsx)(N,{rows:4})})})]})})}),(0,k.jsx)("div",{className:"mt-2",style:{textAlign:"center"},children:(0,k.jsx)(h.A,{icon:(0,k.jsx)(f.A,{}),htmlType:"submit",loading:O,type:"primary",children:t===D?(0,j.t)("actualite.addNews.addButton"):(0,j.t)("actualite.modifyNews.modifyButton")})})]})})}},65558:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});n(65043);var a=n(45954),s=n(70579);const l=()=>(0,s.jsx)(a.A,{mode:"EDIT"})},11645:(e,t,n)=>{n.d(t,{A:()=>a});const a=n(30227).A},47419:(e,t,n)=>{n.d(t,{A:()=>a});const a=n(28821).A},41264:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(58168),s=n(64467),l=n(40164),c=n(98139),i=n.n(c),r=n(5544),d=n(53986),o=n(65043),u=n(28678),m=n(25001),h=o.forwardRef((function(e,t){var n,a=e.prefixCls,l=void 0===a?"rc-switch":a,c=e.className,h=e.checked,f=e.defaultChecked,p=e.disabled,A=e.loadingIcon,x=e.checkedChildren,v=e.unCheckedChildren,b=e.onClick,j=e.onChange,y=e.onKeyDown,g=(0,d.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,u.A)(!1,{value:h,defaultValue:f}),C=(0,r.A)(w,2),k=C[0],N=C[1];function D(e,t){var n=k;return p||(N(n=e),null===j||void 0===j||j(n,t)),n}var E=i()(l,c,(n={},(0,s.A)(n,"".concat(l,"-checked"),k),(0,s.A)(n,"".concat(l,"-disabled"),p),n));return o.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":k,disabled:p,className:E,ref:t,onKeyDown:function(e){e.which===m.A.LEFT?D(!1,e):e.which===m.A.RIGHT&&D(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var t=D(!k,e);null===b||void 0===b||b(t,e)}}),A,o.createElement("span",{className:"".concat(l,"-inner")},k?x:v))}));h.displayName="Switch";const f=h;var p=n(35296),A=n(78440),x=n(87063),v=n(16021),b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n},j=o.forwardRef((function(e,t){var n,c=e.prefixCls,r=e.size,d=e.disabled,u=e.loading,m=e.className,h=void 0===m?"":m,j=b(e,["prefixCls","size","disabled","loading","className"]),y=o.useContext(p.QO),g=y.getPrefixCls,w=y.direction,C=o.useContext(x.A),k=o.useContext(A.A),N=d||k||u,D=g("switch",c),E=o.createElement("div",{className:"".concat(D,"-handle")},u&&o.createElement(l.A,{className:"".concat(D,"-loading-icon")})),I=i()((n={},(0,s.A)(n,"".concat(D,"-small"),"small"===(r||C)),(0,s.A)(n,"".concat(D,"-loading"),u),(0,s.A)(n,"".concat(D,"-rtl"),"rtl"===w),n),h);return o.createElement(v.A,{insertExtraNode:!0},o.createElement(f,(0,a.A)({},j,{prefixCls:D,className:I,disabled:N,ref:t,loadingIcon:E})))}));j.__ANT_SWITCH=!0;const y=j}}]);
//# sourceMappingURL=5558.a9f428d1.chunk.js.map