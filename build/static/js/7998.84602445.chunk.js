"use strict";(self.webpackChunkMobileApps=self.webpackChunkMobileApps||[]).push([[7998],{45613:(e,t,n)=>{n.d(t,{A:()=>s});n(65043);var a=n(49812),r=n(46080),i=n(84235),l=n(70579);const c=e=>(0,l.jsx)(a.A,{overlay:e.menu,placement:e.placement,trigger:["click"],children:(0,l.jsx)("div",{className:"ellipsis-dropdown",children:(0,l.jsx)(i.A,{})})});c.defaultProps={trigger:"click",placement:"bottomRight",menu:(0,l.jsx)(r.A,{})};const s=c},8572:(e,t,n)=>{n.d(t,{A:()=>i});n(65043);var a=n(70579);const r=e=>{const{children:t,className:n,alignItems:r,justifyContent:i,mobileFlex:l,flexDirection:c}=e;return(0,a.jsx)("div",{className:"".concat(l?"d-flex":"d-md-flex"," ").concat(n," ").concat(c?"flex-"+c:""," ").concat(r?"align-items-"+r:""," ").concat(i?"justify-content-"+i:""),children:t})};r.defaultProps={mobileFlex:!0,flexDirection:"row",className:""};const i=r},76645:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(75639),r=n(30460),i=n(99644),l=(n(65043),n(70579));const c=Array.from({length:2}).map(((e,t)=>({href:"https://ant.design",title:"ant design part ".concat(t+1),avatar:"https://xsgames.co/randomusers/avatar.php?g=pixel&key=".concat(t),description:"Ant Design, a design language for background applications, is refined by Ant UED Team.",content:"We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently."}))),s=e=>{let{hasAvatar:t}=e;return(0,l.jsx)(a.Ay,{itemLayout:"vertical",size:"large",dataSource:c,renderItem:e=>(0,l.jsx)(a.Ay.Item,{children:(0,l.jsxs)(r.A,{active:!0,avatar:!0,children:[(0,l.jsx)(a.Ay.Item.Meta,{avatar:t?(0,l.jsx)(i.A,{src:e.avatar}):null,title:(0,l.jsx)("a",{href:e.href,children:e.title}),description:e.description}),e.content]})},e.title)})}},57998:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(65043),r=n(45613),i=n(8572),l=n(73216),c=n(68366),s=n(84892),o=n(48193),d=n(46080),p=n(41264),u=n(77962),m=n(33307),h=n(64435),x=n(89421),f=n(19923),A=n(83530),v=n(39470),g=n(67407),y=n(61966),j=n(46237),b=n(89967),C=n(24236),w=n(65885),k=n(74117),N=(n(44978),n(76645)),E=n(83003),I=n(72450),O=n(26159),S=n.n(O),z=n(52771),D=n(70579);const{confirm:T}=c.A,{Title:P}=s.A,F=()=>{const e=(0,l.Zp)(),{t:t}=(0,k.Bd)(),n=(0,E.wA)(),[c,s]=(0,a.useState)([]),{ads:O,error:F,loading:_}=(0,E.d4)((e=>e.ad)),{user:L}=(0,E.d4)((e=>e.auth));(0,a.useEffect)((()=>{console.log(L),n((0,z.A8)(null===L||void 0===L?void 0:L.name))}),[n]),(0,a.useEffect)((()=>{F&&o.Ay.error(t("Failed to retreive data. Please try again later."))}),[F]);const[M,B]=(0,a.useState)([]);(0,a.useEffect)((()=>{B(O)}),[O]);const G=a=>(0,D.jsxs)(d.A,{children:[(0,D.jsx)(d.A.Item,{onClick:()=>(t=>{e("/app/ad/edit/".concat(t._id))})(a),children:(0,D.jsxs)(i.A,{alignItems:"center",children:[(0,D.jsx)(g.A,{}),(0,D.jsx)("span",{className:"ml-2",children:t("Edit Ad")})]})}),(0,D.jsx)(d.A.Item,{onClick:()=>(async e=>{T({title:t("Delete ad"),icon:(0,D.jsx)(v.A,{}),content:t("Are you sure you want to delete this ad?"),okText:t("Yes"),okType:"danger",cancelText:t("No"),onOk(){n((0,z.DO)(e)).unwrap().then((()=>{o.Ay.success({content:"".concat(t("Deleted ad")),duration:5})})).catch((e=>{o.Ay.error(e)}))}})})(a._id),children:(0,D.jsxs)(i.A,{alignItems:"center",children:[(0,D.jsx)(y.A,{}),(0,D.jsx)("span",{className:"ml-2",children:t("Delete")})]})})]}),R=[{title:t("Title"),dataIndex:"title",sorter:{compare:(e,t)=>(e=e.title.toLowerCase())>(t=t.title.toLowerCase())?-1:t>e?1:0}},{title:t("Description"),dataIndex:"description",render:e=>(0,D.jsx)("span",{children:H(e)})},{title:t("Is shown"),dataIndex:"isShown",render:(e,t)=>(0,D.jsx)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px"},children:(0,D.jsx)(p.A,{checked:e,onChange:e=>((e,t)=>{n((0,z.Qr)({id:t._id,data:{isShown:e}}))})(e,t),checkedChildren:(0,D.jsx)(j.A,{}),unCheckedChildren:(0,D.jsx)(b.A,{})})})},{title:t("Location"),dataIndex:"location"},{title:t("actions"),dataIndex:"actions",render:(e,t)=>(0,D.jsx)("div",{className:"text-right",children:(0,D.jsx)(r.A,{menu:G(t)})})}],H=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.textContent||t.innerText,a=n.split(" ").slice(0,4).join(" ");return n.split(" ").length>4?"".concat(a,"..."):a};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(P,{level:2,children:[" ",t("Ad")," "]}),(0,D.jsxs)(u.A,{children:[(0,D.jsxs)(i.A,{alignItems:"center",justifyContent:"between",mobileFlex:!1,className:"p-3",children:[(0,D.jsx)(i.A,{className:"mb-1",mobileFlex:!1,children:(0,D.jsx)(m.A,{placeholder:t("Search"),style:{marginBottom:16},onChange:e=>{(e=>{let t=e.target.value,n=[];n=O.filter((e=>""===t?e:e.title.toLowerCase().includes(t))),B(n)})(e)},disabled:!(!_&&!F)})}),(0,D.jsx)("div",{children:(0,D.jsxs)(h.A,{wrap:!0,children:[(0,D.jsx)(x.A,{onClick:()=>{e("/app/ad/add")},type:"primary",icon:(0,D.jsx)(C.A,{}),block:!0,children:t("Add an ad")}),(0,D.jsx)(x.A,{onClick:()=>function(e){const t=new(S()),n=function(e){return"title,description\n"+e.map((e=>"".concat(e.title,",").concat(e.description))).join("\n")}(e);t.file("exported_data.csv",n),t.generateAsync({type:"blob"}).then((e=>{(0,I.saveAs)(e,"exported_data.zip")}))}(M),type:"primary",icon:(0,D.jsx)(w.A,{}),block:!0,danger:!0,children:t("Export")})]})})]}),(0,D.jsx)("div",{className:"table-responsive",children:_?(0,D.jsx)(N.A,{}):F?(0,D.jsx)(f.Ay,{status:"error",title:t("Error"),subTitle:t("Something wrong, we can't retrieve this data")}):(0,D.jsx)(A.A,{className:"no-border-last mt-3",columns:R,dataSource:M,rowKey:"_id"})})]})]})}},65885:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(89379),r=n(65043);const i={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};var l=n(6127),c=function(e,t){return r.createElement(l.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};const s=r.forwardRef(c)},64435:(e,t,n)=>{n.d(t,{e:()=>h,A:()=>f});var a=n(58168),r=n(64467),i=n(5544),l=n(98139),c=n.n(l),s=n(62149),o=n(65043),d=n(35296),p=n(46058);function u(e){var t=e.className,n=e.direction,i=e.index,l=e.marginDirection,c=e.children,s=e.split,d=e.wrap,p=o.useContext(h),u=p.horizontalSize,m=p.verticalSize,x=p.latestIndex,f={};return p.supportFlexGap||("vertical"===n?i<x&&(f={marginBottom:u/(s?2:1)}):f=(0,a.A)((0,a.A)({},i<x&&(0,r.A)({},l,u/(s?2:1))),d&&{paddingBottom:m})),null===c||void 0===c?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:f},c),i<x&&s&&o.createElement("span",{className:"".concat(t,"-split"),style:f},s))}var m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},h=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),x={small:8,middle:16,large:24};const f=function(e){var t,n=o.useContext(d.QO),l=n.getPrefixCls,f=n.space,A=n.direction,v=e.size,g=void 0===v?(null===f||void 0===f?void 0:f.size)||"small":v,y=e.align,j=e.className,b=e.children,C=e.direction,w=void 0===C?"horizontal":C,k=e.prefixCls,N=e.split,E=e.style,I=e.wrap,O=void 0!==I&&I,S=m(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),z=(0,p.A)(),D=o.useMemo((function(){return(Array.isArray(g)?g:[g,g]).map((function(e){return function(e){return"string"===typeof e?x[e]:e||0}(e)}))}),[g]),T=(0,i.A)(D,2),P=T[0],F=T[1],_=(0,s.A)(b,{keepEmpty:!0}),L=void 0===y&&"horizontal"===w?"center":y,M=l("space",k),B=c()(M,"".concat(M,"-").concat(w),(t={},(0,r.A)(t,"".concat(M,"-rtl"),"rtl"===A),(0,r.A)(t,"".concat(M,"-align-").concat(L),L),t),j),G="".concat(M,"-item"),R="rtl"===A?"marginLeft":"marginRight",H=0,K=_.map((function(e,t){null!==e&&void 0!==e&&(H=t);var n=e&&e.key||"".concat(G,"-").concat(t);return o.createElement(u,{className:G,key:n,direction:w,index:t,marginDirection:R,split:N,wrap:O},e)})),Q=o.useMemo((function(){return{horizontalSize:P,verticalSize:F,latestIndex:H,supportFlexGap:z}}),[P,F,H,z]);if(0===_.length)return null;var V={};return O&&(V.flexWrap="wrap",z||(V.marginBottom=-F)),z&&(V.columnGap=P,V.rowGap=F),o.createElement("div",(0,a.A)({className:B,style:(0,a.A)((0,a.A)({},V),E)},S),o.createElement(h.Provider,{value:Q},K))}},41264:(e,t,n)=>{n.d(t,{A:()=>j});var a=n(58168),r=n(64467),i=n(40164),l=n(98139),c=n.n(l),s=n(5544),o=n(53986),d=n(65043),p=n(28678),u=n(25001),m=d.forwardRef((function(e,t){var n,a=e.prefixCls,i=void 0===a?"rc-switch":a,l=e.className,m=e.checked,h=e.defaultChecked,x=e.disabled,f=e.loadingIcon,A=e.checkedChildren,v=e.unCheckedChildren,g=e.onClick,y=e.onChange,j=e.onKeyDown,b=(0,o.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,p.A)(!1,{value:m,defaultValue:h}),w=(0,s.A)(C,2),k=w[0],N=w[1];function E(e,t){var n=k;return x||(N(n=e),null===y||void 0===y||y(n,t)),n}var I=c()(i,l,(n={},(0,r.A)(n,"".concat(i,"-checked"),k),(0,r.A)(n,"".concat(i,"-disabled"),x),n));return d.createElement("button",Object.assign({},b,{type:"button",role:"switch","aria-checked":k,disabled:x,className:I,ref:t,onKeyDown:function(e){e.which===u.A.LEFT?E(!1,e):e.which===u.A.RIGHT&&E(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var t=E(!k,e);null===g||void 0===g||g(t,e)}}),f,d.createElement("span",{className:"".concat(i,"-inner")},k?A:v))}));m.displayName="Switch";const h=m;var x=n(35296),f=n(78440),A=n(87063),v=n(16021),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},y=d.forwardRef((function(e,t){var n,l=e.prefixCls,s=e.size,o=e.disabled,p=e.loading,u=e.className,m=void 0===u?"":u,y=g(e,["prefixCls","size","disabled","loading","className"]),j=d.useContext(x.QO),b=j.getPrefixCls,C=j.direction,w=d.useContext(A.A),k=d.useContext(f.A),N=o||k||p,E=b("switch",l),I=d.createElement("div",{className:"".concat(E,"-handle")},p&&d.createElement(i.A,{className:"".concat(E,"-loading-icon")})),O=c()((n={},(0,r.A)(n,"".concat(E,"-small"),"small"===(s||w)),(0,r.A)(n,"".concat(E,"-loading"),p),(0,r.A)(n,"".concat(E,"-rtl"),"rtl"===C),n),m);return d.createElement(v.A,{insertExtraNode:!0},d.createElement(h,(0,a.A)({},y,{prefixCls:E,className:O,disabled:N,ref:t,loadingIcon:I})))}));y.__ANT_SWITCH=!0;const j=y}}]);
//# sourceMappingURL=7998.84602445.chunk.js.map