"use strict";(self.webpackChunkMobileApps=self.webpackChunkMobileApps||[]).push([[9209,5845,5558],{44662:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(65043),s=a(83003),l=a(79951),c=a(70579);const i=(0,s.Ng)((e=>{let{theme:t}=e;const{navType:a}=t;return{navType:a}}),{})((e=>{let{children:t,background:a,className:s,overlap:i,navType:r}=e;const[d,o]=(0,n.useState)(0),u=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(r===l.HG){const e=window.innerWidth,t=u.current.offsetWidth;o((e-t)/2)}}),[r]);return(0,c.jsx)("div",{ref:u,className:"page-header-alt ".concat(s||""," ").concat(i&&"overlap"),style:(()=>{let e={backgroundImage:a?"url(".concat(a,")"):"none"};return r===l.HG&&(e.marginRight=-d,e.marginLeft=-d,e.paddingLeft=0,e.paddingRight=0),e})(),children:r===l.HG?(0,c.jsx)("div",{className:"container",children:t}):(0,c.jsx)(c.Fragment,{children:t})})}))},8572:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var n=a(70579);const s=e=>{const{children:t,className:a,alignItems:s,justifyContent:l,mobileFlex:c,flexDirection:i}=e;return(0,n.jsx)("div",{className:"".concat(c?"d-flex":"d-md-flex"," ").concat(a," ").concat(i?"flex-"+i:""," ").concat(s?"align-items-"+s:""," ").concat(l?"justify-content-"+l:""),children:t})};s.defaultProps={mobileFlex:!0,flexDirection:"row",className:""};const l=s},49209:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});a(65043);var n=a(73216),s=a(45845),l=a(65558),c=a(70579);const i=()=>(0,c.jsxs)(n.BV,{children:[(0,c.jsx)(n.qh,{path:"*",element:(0,c.jsx)(n.C5,{to:"liste",replace:!0})}),(0,c.jsx)(n.qh,{path:"edit/:id",element:(0,c.jsx)(l.default,{})}),(0,c.jsx)(n.qh,{path:"add",element:(0,c.jsx)(s.default,{})})]})},45954:(e,t,a)=>{a.d(t,{A:()=>I});var n=a(65043),s=a(94406),l=a(50289),c=a(33307),i=a(48193),r=a(77962),d=a(47419),o=a(11645),u=a(37671),h=a(41264),m=a(89421),f=a(63390),p=a(86178),x=a.n(p),A=a(83003),j=a(13271),v=a(73216),b=a(44978),y=a(43443),g=a(60751),w=a(44662),C=a(8572),k=a(70579);const{Option:N}=s.A,D="ADD",E="EDIT",I=e=>{let{mode:t}=e;const[a]=l.A.useForm(),p=(0,A.wA)(),{TextArea:N}=c.A,{error:I,live:F,loading:O}=(0,A.d4)((e=>e.lives)),{matchs:R}=(0,A.d4)((e=>e.matchs)),[T,q]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(R){const e=R.map((e=>({value:e._id,label:e.titled})));q(e)}}),[R]);const[P,S]=(0,n.useState)(null),{id:Y}=(0,v.g)(),L=(0,v.Zp)();(0,n.useEffect)((()=>{p((0,y.wz)()),p((0,g.Js)())}),[p]);const{user:M}=(0,A.d4)((e=>e.auth));(0,n.useEffect)((()=>{t===E&&p((0,j.fo)(Y))}),[p,t,Y]),(0,n.useEffect)((()=>{if(t===E&&F){const e={...F,date:x()(F.creationDate)};a.setFieldsValue(e)}}),[a,t,F]),(0,n.useEffect)((()=>{t===D&&a.setFieldValue("display",!0)}),[a,t,F]),(0,n.useEffect)((()=>{p((0,j.Fc)())}),[]);function H(e){if(e){const t=new URL(e);if(t.pathname.includes("/embed/"))t.search="modestbranding=1&showinfo=0&rel=0";else{const e=t.searchParams.get("v");if(!e)return"";{const a="/embed/".concat(e);t.pathname=a,t.search="modestbranding=1&showinfo=0&rel=0"}}return t.href}return""}return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(l.A,{layout:"vertical",form:a,onFinish:async()=>{try{const e=await a.validateFields(),n={...e,creationDate:e.date.format("YYYY-MM-DD"),link:H(e.link)},{...s}=n;t===D&&(await p((0,j.hv)(s)).unwrap(),i.Ay.success((0,b.t)("Live added successfully!"),1),L(-1)),t===E&&(await p((0,j.WF)({id:F._id,data:s})).unwrap(),await i.Ay.success((0,b.t)("Live updated!"),1),L(-1))}catch(I){i.Ay.error(I)}finally{p((0,j.RZ)())}},name:"live-form",className:"ant-advanced-search-form",initialValues:P,children:[(0,k.jsx)(w.A,{className:"border-bottom mb-4",children:(0,k.jsx)("div",{className:"container",children:(0,k.jsx)(C.A,{mobileFlex:!1,justifyContent:"between",alignItems:"center",children:(0,k.jsx)("div",{children:(0,k.jsx)("h2",{className:"mb-3",style:{display:"inline-block"},children:"ADD"===t?(0,b.t)("Add a live"):"".concat((0,b.t)("Edit live"))})})})})}),(0,k.jsx)("div",{className:"container",children:(0,k.jsx)(r.A,{size:"large",children:(0,k.jsxs)(d.A,{gutter:16,children:[t&&(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,b.t)("newslist.table.newsCell"),name:"titled",rules:[{required:!0,message:(0,b.t)("Required title")}],children:(0,k.jsx)(c.A,{})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,b.t)("link"),name:"link",rules:[{required:!0,message:(0,b.t)("Required link")}],children:(0,k.jsx)(c.A,{})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,b.t)("Date"),name:"date",rules:[{required:!0,message:(0,b.t)("Please select a day")}],children:(0,k.jsx)(u.A,{style:{width:"100%"},format:"YYYY-MM-DD"})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,b.t)("display"),name:"display",valuePropName:"checked",children:(0,k.jsx)(h.A,{defaultChecked:null===F||void 0===F?void 0:F.display})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,b.t)("Link to a match"),name:"match",children:(0,k.jsx)(s.A,{showSearch:!0,optionFilterProp:"children",options:T,style:{width:"100%"}})})}),(0,k.jsx)(o.A,{span:24,children:(0,k.jsx)(l.A.Item,{label:(0,b.t)("Description"),name:"description",rules:[{required:!0,message:(0,b.t)("Required description")}],children:(0,k.jsx)(N,{rows:4})})})]})})}),(0,k.jsx)("div",{className:"mt-2",style:{textAlign:"center"},children:(0,k.jsx)(m.A,{icon:(0,k.jsx)(f.A,{}),htmlType:"submit",loading:O,type:"primary",children:t===D?(0,b.t)("actualite.addNews.addButton"):(0,b.t)("actualite.modifyNews.modifyButton")})})]})})}},45845:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});a(65043);var n=a(45954),s=a(70579);const l=()=>(0,s.jsx)(n.A,{mode:"ADD"})},65558:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});a(65043);var n=a(45954),s=a(70579);const l=()=>(0,s.jsx)(n.A,{mode:"EDIT"})},11645:(e,t,a)=>{a.d(t,{A:()=>n});const n=a(30227).A},47419:(e,t,a)=>{a.d(t,{A:()=>n});const n=a(28821).A},41264:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(58168),s=a(64467),l=a(40164),c=a(98139),i=a.n(c),r=a(5544),d=a(53986),o=a(65043),u=a(28678),h=a(25001),m=o.forwardRef((function(e,t){var a,n=e.prefixCls,l=void 0===n?"rc-switch":n,c=e.className,m=e.checked,f=e.defaultChecked,p=e.disabled,x=e.loadingIcon,A=e.checkedChildren,j=e.unCheckedChildren,v=e.onClick,b=e.onChange,y=e.onKeyDown,g=(0,d.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,u.A)(!1,{value:m,defaultValue:f}),C=(0,r.A)(w,2),k=C[0],N=C[1];function D(e,t){var a=k;return p||(N(a=e),null===b||void 0===b||b(a,t)),a}var E=i()(l,c,(a={},(0,s.A)(a,"".concat(l,"-checked"),k),(0,s.A)(a,"".concat(l,"-disabled"),p),a));return o.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":k,disabled:p,className:E,ref:t,onKeyDown:function(e){e.which===h.A.LEFT?D(!1,e):e.which===h.A.RIGHT&&D(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var t=D(!k,e);null===v||void 0===v||v(t,e)}}),x,o.createElement("span",{className:"".concat(l,"-inner")},k?A:j))}));m.displayName="Switch";const f=m;var p=a(35296),x=a(78440),A=a(87063),j=a(16021),v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a},b=o.forwardRef((function(e,t){var a,c=e.prefixCls,r=e.size,d=e.disabled,u=e.loading,h=e.className,m=void 0===h?"":h,b=v(e,["prefixCls","size","disabled","loading","className"]),y=o.useContext(p.QO),g=y.getPrefixCls,w=y.direction,C=o.useContext(A.A),k=o.useContext(x.A),N=d||k||u,D=g("switch",c),E=o.createElement("div",{className:"".concat(D,"-handle")},u&&o.createElement(l.A,{className:"".concat(D,"-loading-icon")})),I=i()((a={},(0,s.A)(a,"".concat(D,"-small"),"small"===(r||C)),(0,s.A)(a,"".concat(D,"-loading"),u),(0,s.A)(a,"".concat(D,"-rtl"),"rtl"===w),a),m);return o.createElement(j.A,{insertExtraNode:!0},o.createElement(f,(0,n.A)({},b,{prefixCls:D,className:I,disabled:N,ref:t,loadingIcon:E})))}));b.__ANT_SWITCH=!0;const y=b}}]);
//# sourceMappingURL=9209.16cfead2.chunk.js.map