"use strict";(self.webpackChunkMobileApps=self.webpackChunkMobileApps||[]).push([[5754],{45613:(e,t,n)=>{n.d(t,{A:()=>s});n(65043);var a=n(49812),r=n(46080),i=n(84235),c=n(70579);const l=e=>(0,c.jsx)(a.A,{overlay:e.menu,placement:e.placement,trigger:["click"],children:(0,c.jsx)("div",{className:"ellipsis-dropdown",children:(0,c.jsx)(i.A,{})})});l.defaultProps={trigger:"click",placement:"bottomRight",menu:(0,c.jsx)(r.A,{})};const s=l},8572:(e,t,n)=>{n.d(t,{A:()=>i});n(65043);var a=n(70579);const r=e=>{const{children:t,className:n,alignItems:r,justifyContent:i,mobileFlex:c,flexDirection:l}=e;return(0,a.jsx)("div",{className:"".concat(c?"d-flex":"d-md-flex"," ").concat(n," ").concat(l?"flex-"+l:""," ").concat(r?"align-items-"+r:""," ").concat(i?"justify-content-"+i:""),children:t})};r.defaultProps={mobileFlex:!0,flexDirection:"row",className:""};const i=r},76645:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(75639),r=n(30460),i=n(99644),c=(n(65043),n(70579));const l=Array.from({length:2}).map(((e,t)=>({href:"https://ant.design",title:"ant design part ".concat(t+1),avatar:"https://xsgames.co/randomusers/avatar.php?g=pixel&key=".concat(t),description:"Ant Design, a design language for background applications, is refined by Ant UED Team.",content:"We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently."}))),s=e=>{let{hasAvatar:t}=e;return(0,c.jsx)(a.Ay,{itemLayout:"vertical",size:"large",dataSource:l,renderItem:e=>(0,c.jsx)(a.Ay.Item,{children:(0,c.jsxs)(r.A,{active:!0,avatar:!0,children:[(0,c.jsx)(a.Ay.Item.Meta,{avatar:t?(0,c.jsx)(i.A,{src:e.avatar}):null,title:(0,c.jsx)("a",{href:e.href,children:e.title}),description:e.description}),e.content]})},e.title)})}},15754:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(65043),r=n(45613),i=n(8572),c=n(73216),l=n(68366),s=n(84892),o=n(48193),d=n(46080),p=n(77962),m=n(33307),u=n(64435),x=n(89421),h=n(19923),A=n(83530),f=n(39470),g=n(67407),y=n(61966),v=n(24236),j=n(65885),b=(n(86178),n(74117)),w=(n(44978),n(76645)),N=n(83003),C=n(72450),k=n(26159),I=n.n(k),z=n(92580),E=n(70579);const{confirm:S}=l.A,{Title:O}=s.A,D=()=>{const e=(0,c.Zp)(),{t:t}=(0,b.Bd)(),n=(0,N.wA)(),[l,s]=(0,a.useState)([]),{partners:k,error:D,loading:F}=(0,N.d4)((e=>e.partner));(0,a.useEffect)((()=>{n((0,z.nm)())}),[n]),(0,a.useEffect)((()=>{D&&o.Ay.error(t("Failed to retreive data. Please try again later."))}),[D]);const[P,M]=(0,a.useState)([]);(0,a.useEffect)((()=>{M(k)}),[k]);const T=a=>(0,E.jsxs)(d.A,{children:[(0,E.jsx)(d.A.Item,{onClick:()=>(t=>{e("/app/partner/edit/".concat(t._id))})(a),children:(0,E.jsxs)(i.A,{alignItems:"center",children:[(0,E.jsx)(g.A,{}),(0,E.jsx)("span",{className:"ml-2",children:t("Edit profile")})]})}),(0,E.jsx)(d.A.Item,{onClick:()=>(async e=>{S({title:t("Delete partner"),icon:(0,E.jsx)(f.A,{}),content:t("Are you sure you want to delete this partner?"),okText:t("Yes"),okType:"danger",cancelText:t("No"),onOk(){n((0,z.wH)(e)).unwrap().then((()=>{o.Ay.success({content:"".concat(t("Deleted partner")),duration:5})})).catch((e=>{o.Ay.error(e)}))}})})(a._id),children:(0,E.jsxs)(i.A,{alignItems:"center",children:[(0,E.jsx)(y.A,{}),(0,E.jsx)("span",{className:"ml-2",children:t("Delete")})]})})]}),R=[{title:t("compagny name"),dataIndex:"companyName",sorter:{compare:(e,t)=>(e=e.companyName.toLowerCase())>(t=t.companyName.toLowerCase())?-1:t>e?1:0}},{title:"RC",dataIndex:"RC"},{title:t("phone number"),dataIndex:"phoneNumber"},{title:t("email"),dataIndex:"email"},{title:t("Description"),dataIndex:"description",render:e=>(0,E.jsx)("span",{children:B(e)})},{title:t("actions"),dataIndex:"actions",render:(e,t)=>(0,E.jsx)("div",{className:"text-right",children:(0,E.jsx)(r.A,{menu:T(t)})})}],B=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.textContent||t.innerText,a=n.split(" ").slice(0,4).join(" ");return n.split(" ").length>4?"".concat(a,"..."):a};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(O,{level:2,children:[" ",t("Partner")," "]}),(0,E.jsxs)(p.A,{children:[(0,E.jsxs)(i.A,{alignItems:"center",justifyContent:"between",mobileFlex:!1,className:"p-3",children:[(0,E.jsx)(i.A,{className:"mb-1",mobileFlex:!1,children:(0,E.jsx)(m.A,{placeholder:t("Search"),style:{marginBottom:16},onChange:e=>{(e=>{let t=e.target.value,n=[];n=k.filter((e=>""===t?e:e.companyName.toLowerCase().includes(t))),M(n)})(e)},disabled:!(!F&&!D)})}),(0,E.jsx)("div",{children:(0,E.jsxs)(u.A,{wrap:!0,children:[(0,E.jsx)(x.A,{onClick:()=>{e("/app/partner/add")},type:"primary",icon:(0,E.jsx)(v.A,{}),block:!0,children:t("Add a partner")}),(0,E.jsx)(x.A,{onClick:()=>function(e){const t=new(I()),n=function(e){return"companyName,RC,phoneNumber,email,description\n"+e.map((e=>"".concat(e.companyName,",").concat(e.RC,",").concat(e.phoneNumber,",").concat(e.email,",").concat(e.description))).join("\n")}(e);t.file("exported_data.csv",n),t.generateAsync({type:"blob"}).then((e=>{(0,C.saveAs)(e,"exported_data.zip")}))}(P),type:"primary",icon:(0,E.jsx)(j.A,{}),block:!0,danger:!0,children:t("Export")})]})})]}),(0,E.jsx)("div",{className:"table-responsive",children:F?(0,E.jsx)(w.A,{}):D?(0,E.jsx)(h.Ay,{status:"error",title:t("Error"),subTitle:t("Something wrong, we can't retrieve this data")}):(0,E.jsx)(A.A,{className:"no-border-last mt-3",columns:R,dataSource:P,rowKey:"_id"})})]})]})}},65885:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(89379),r=n(65043);const i={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};var c=n(6127),l=function(e,t){return r.createElement(c.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};const s=r.forwardRef(l)},64435:(e,t,n)=>{n.d(t,{e:()=>x,A:()=>A});var a=n(58168),r=n(64467),i=n(5544),c=n(98139),l=n.n(c),s=n(62149),o=n(65043),d=n(35296),p=n(46058);function m(e){var t=e.className,n=e.direction,i=e.index,c=e.marginDirection,l=e.children,s=e.split,d=e.wrap,p=o.useContext(x),m=p.horizontalSize,u=p.verticalSize,h=p.latestIndex,A={};return p.supportFlexGap||("vertical"===n?i<h&&(A={marginBottom:m/(s?2:1)}):A=(0,a.A)((0,a.A)({},i<h&&(0,r.A)({},c,m/(s?2:1))),d&&{paddingBottom:u})),null===l||void 0===l?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:A},l),i<h&&s&&o.createElement("span",{className:"".concat(t,"-split"),style:A},s))}var u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},x=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),h={small:8,middle:16,large:24};const A=function(e){var t,n=o.useContext(d.QO),c=n.getPrefixCls,A=n.space,f=n.direction,g=e.size,y=void 0===g?(null===A||void 0===A?void 0:A.size)||"small":g,v=e.align,j=e.className,b=e.children,w=e.direction,N=void 0===w?"horizontal":w,C=e.prefixCls,k=e.split,I=e.style,z=e.wrap,E=void 0!==z&&z,S=u(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),O=(0,p.A)(),D=o.useMemo((function(){return(Array.isArray(y)?y:[y,y]).map((function(e){return function(e){return"string"===typeof e?h[e]:e||0}(e)}))}),[y]),F=(0,i.A)(D,2),P=F[0],M=F[1],T=(0,s.A)(b,{keepEmpty:!0}),R=void 0===v&&"horizontal"===N?"center":v,B=c("space",C),L=l()(B,"".concat(B,"-").concat(N),(t={},(0,r.A)(t,"".concat(B,"-rtl"),"rtl"===f),(0,r.A)(t,"".concat(B,"-align-").concat(R),R),t),j),G="".concat(B,"-item"),_="rtl"===f?"marginLeft":"marginRight",H=0,V=T.map((function(e,t){null!==e&&void 0!==e&&(H=t);var n=e&&e.key||"".concat(G,"-").concat(t);return o.createElement(m,{className:G,key:n,direction:N,index:t,marginDirection:_,split:k,wrap:E},e)})),W=o.useMemo((function(){return{horizontalSize:P,verticalSize:M,latestIndex:H,supportFlexGap:O}}),[P,M,H,O]);if(0===T.length)return null;var q={};return E&&(q.flexWrap="wrap",O||(q.marginBottom=-M)),O&&(q.columnGap=P,q.rowGap=M),o.createElement("div",(0,a.A)({className:L,style:(0,a.A)((0,a.A)({},q),I)},S),o.createElement(x.Provider,{value:W},V))}}}]);
//# sourceMappingURL=5754.34035499.chunk.js.map