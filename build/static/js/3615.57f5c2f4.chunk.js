"use strict";(self.webpackChunkMobileApps=self.webpackChunkMobileApps||[]).push([[3615],{44662:(e,a,t)=>{t.d(a,{A:()=>r});var n=t(65043),i=t(83003),s=t(79951),l=t(70579);const r=(0,i.Ng)((e=>{let{theme:a}=e;const{navType:t}=a;return{navType:t}}),{})((e=>{let{children:a,background:t,className:i,overlap:r,navType:c}=e;const[o,d]=(0,n.useState)(0),m=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(c===s.HG){const e=window.innerWidth,a=m.current.offsetWidth;d((e-a)/2)}}),[c]);return(0,l.jsx)("div",{ref:m,className:"page-header-alt ".concat(i||""," ").concat(r&&"overlap"),style:(()=>{let e={backgroundImage:t?"url(".concat(t,")"):"none"};return c===s.HG&&(e.marginRight=-o,e.marginLeft=-o,e.paddingLeft=0,e.paddingRight=0),e})(),children:c===s.HG?(0,l.jsx)("div",{className:"container",children:a}):(0,l.jsx)(l.Fragment,{children:a})})}))},8572:(e,a,t)=>{t.d(a,{A:()=>s});t(65043);var n=t(70579);const i=e=>{const{children:a,className:t,alignItems:i,justifyContent:s,mobileFlex:l,flexDirection:r}=e;return(0,n.jsx)("div",{className:"".concat(l?"d-flex":"d-md-flex"," ").concat(t," ").concat(r?"flex-"+r:""," ").concat(i?"align-items-"+i:""," ").concat(s?"justify-content-"+s:""),children:a})};i.defaultProps={mobileFlex:!0,flexDirection:"row",className:""};const s=i},6706:(e,a,t)=>{t.d(a,{Y:()=>n});const n="https://backend.mobile-apps-dz.com/uploads/images/"},93615:(e,a,t)=>{t.d(a,{A:()=>L});var n=t(65043),i=t(44662),s=t(94406),l=t(50289),r=t(48193),c=t(64435),o=t(89421),d=t(8572),m=t(73216),u=t(83003),h=t(74117),f=(t(44978),t(33307)),p=t(47419),g=t(11645),A=t(77962),x=t(39998),b=t(33122),y=t(37671),j=t(41264),v=t(94733),w=t(57253),C=t(77977),N=t(58345),D=t.n(N),I=t(70579);const{TextArea:k}=f.A,E=e=>{const{mode:a}=e,{t:t}=(0,h.Bd)(),[i,r]=((0,u.wA)(),(0,n.useState)([[{uid:"-1",name:"default_image.jpg",status:"done",url:"https://via.placeholder.com/150"}]])),[c,d]=(0,n.useState)(!1),[m,N]=(0,n.useState)(""),[E,O]=(0,n.useState)(""),[S,T]=(0,n.useState)(!0),[P,F]=(0,n.useState)([]),M={onRemove:e=>{const a=i.indexOf(e),t=i.slice();t.splice(a,1),r(t)},beforeUpload:e=>(r([...i,e]),!1),fileList:i},{actualite:R}=(0,u.d4)((e=>e.news));(0,n.useEffect)((()=>{"EDIT"===a&&R&&(N(R.description||""),T(R.displayNotif),O(R.description_arab||""))}),[a,R]);return(0,I.jsx)("div",{children:(0,I.jsx)(p.A,{gutter:16,align:"middle",children:(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsxs)(A.A,{title:t("News informations"),children:[(0,I.jsx)(x.A,{className:"m-0 mb-4"}),(0,I.jsxs)(p.A,{gutter:16,children:[(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{name:"articleTitle",label:t("actualite.addAndModify.step1.PersonnalInfoCard.titleArtocle.label"),rules:w.a.articleName,children:(0,I.jsx)(f.A,{})})}),(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{label:t("Language"),name:"language",rules:[{required:!0,message:t("Please select the language")}],children:(0,I.jsx)(s.A,{mode:"multiple",onChange:e=>{F(e)},options:[{value:"fr",label:t("fr")},{value:"arb",label:t("arb")}]})})})]}),(0,I.jsxs)(p.A,{gutter:16,children:[P.includes("fr")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{name:"articleTitle",label:t("French article title"),rules:w.a.articleName,children:(0,I.jsx)(f.A,{})})}),(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{label:"Description",name:"description",rules:w.a.description,children:(0,I.jsx)(C.CKEditor,{editor:D(),data:m,onChange:(a,t)=>{const n=t.getData();N(n),e.onEditorChange&&e.onEditorChange(n)},onReady:e=>{e.editing.view.change((a=>{a.setStyle("min-height","200px",e.editing.view.document.getRoot())}))},config:{language:"fr",direction:"ltr"}})})})]}),P.includes("arb")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{name:"articleTitleArab",label:t("Arab article title"),rules:w.a.articleName,children:(0,I.jsx)(f.A,{})})}),(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{label:t("Arab description"),name:"description_arab",rules:w.a.description,children:(0,I.jsx)(C.CKEditor,{editor:D(),data:E,onChange:(a,t)=>{const n=t.getData();O(n),e.onEditorChangeArab&&e.onEditorChangeArab(n)},onReady:e=>{e.editing.view.change((a=>{a.setStyle("min-height","200px",e.editing.view.document.getRoot())}))},config:{language:"arb",direction:"rtl"}})})})]})]}),(0,I.jsx)(l.A.Item,{label:t("actualite.addAndModify.step1.ProfilePicCard.title"),name:"image",rules:w.a.image,valuePropName:"fileList",getValueFromEvent:e=>e.fileList,children:(0,I.jsx)(b.A,{name:"image",maxCount:1,listType:"picture",...M,className:"custom-upload",children:(0,I.jsx)(o.A,{icon:(0,I.jsx)(v.A,{}),children:t("Add an image")})})}),(0,I.jsx)(l.A.Item,{label:t("link"),name:"link",children:(0,I.jsx)(f.A,{})}),(0,I.jsx)(g.A,{xs:24,sm:24,md:24,children:(0,I.jsx)(l.A.Item,{name:"createdDate",label:t("actualite.addAndModify.step1.PersonnalInfoCard.creationDate.label"),rules:w.a.creationDate,children:(0,I.jsx)(y.A,{format:"YYYY-MM-DD",size:"large",style:{width:"100%"}})})}),(0,I.jsx)(l.A.Item,{label:t("Display the notification"),name:"displayNotif",children:(0,I.jsx)(j.A,{checked:S,onChange:a=>(a=>{T(a),e.onDisplayNotifChange&&e.onDisplayNotifChange(a)})(a)})}),S&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.A.Item,{label:t("Notification title"),name:"notifTitle",rules:w.a.notifTitle,children:(0,I.jsx)(f.A,{})}),(0,I.jsx)(l.A.Item,{label:t("Notification body"),name:"notifBody",rules:w.a.notifBody,children:(0,I.jsx)(k,{rows:4})})]})]})})})})};var O=t(86227),S=t(86178),T=t.n(S),P=t(6706);const{Option:F}=s.A,M="ADD",R="EDIT",L=e=>{const{mode:a=M}=e,t=(0,m.Zp)(),s=(0,u.wA)(),{t:f}=(0,h.Bd)(),[p]=l.A.useForm(),[g,A]=(0,n.useState)(""),[x,b]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!1),{id:v}=(0,m.g)(),[w,C]=(0,n.useState)(null),{error:N,actualite:D,loading:k}=(0,u.d4)((e=>e.news));(0,n.useEffect)((()=>{a===R&&s((0,O.CX)(v))}),[s,a,v]),(0,n.useEffect)((()=>{if(a===R&&D){const e={...D,createdDate:T()(D.createdDate)};p.setFieldsValue(e)}if(D.image){const e=[{uid:"-1",name:D.image[0].originalname,status:"done",url:"".concat(P.Y+D.image[0].filename)}];p.setFieldsValue({image:e})}}),[p,a,D]);const[S,F]=(0,n.useState)(""),[L,Y]=(0,n.useState)(""),[B,_]=(0,n.useState)(!0);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(l.A,{layout:"vertical",form:p,onFinish:async()=>{try{const e=await p.validateFields(),n=new FormData;let i=e.language.map((e=>e));n.append("articleTitle",e.articleTitle),n.append("articleTitleArab",e.articleTitleArab),n.append("description",S),n.append("displayNotif",B),n.append("notifTitle",e.notifTitle),n.append("notifBody",e.notifBody),n.append("language",JSON.stringify(i)),n.append("description_arab",L),n.append("createdDate",e.createdDate.format("YYYY-MM-DD")),e.image&&e.image[0]&&n.append("image",e.image[0].originFileObj),n.append("link",function(e){if(e){const a=new URL(e);if(a.pathname.includes("/embed/"))a.search="modestbranding=1&showinfo=0&rel=0";else{const e=a.searchParams.get("v");if(!e)return"https://www.youtube.com/";{const t="/embed/".concat(e);a.pathname=t,a.search="modestbranding=1&showinfo=0&rel=0"}}return a.href}return""}(e.link)),a===M&&(await s((0,O.Q4)(n)).unwrap(),r.Ay.success(f("News added successfully!"),1),t(-1)),a===R&&(await s((0,O.zG)({id:D._id,data:n})).unwrap(),await r.Ay.success(f("News updated!"),1),t(-1))}catch(N){r.Ay.error(N)}finally{s((0,O.RZ)())}},name:"Nanny-form",className:"ant-advanced-search-form",initialValues:w,children:[(0,I.jsx)(i.A,{className:"border-bottom mb-4",children:(0,I.jsx)("div",{className:"container",children:(0,I.jsx)(d.A,{mobileFlex:!1,justifyContent:"between",alignItems:"center",children:(0,I.jsx)("div",{children:(0,I.jsx)("h2",{className:"mb-3",style:{display:"inline-block"},children:f("ADD"===a?"news.addNews.title":"news.modifyNews.title")})})})})}),(0,I.jsx)("div",{className:"container",children:(0,I.jsx)(E,{mode:a,onEditorChange:e=>{F(e)},onEditorChangeArab:e=>{Y(e)},onDisplayNotifChange:e=>{_(e)}})}),(0,I.jsx)(d.A,{justifyContent:"center",children:(0,I.jsxs)(c.A,{size:"middle",className:"mb-3",children:[(0,I.jsx)(o.A,{type:"primary",htmlType:"submit",children:f("ADD"===a?"actualite.addNews.addButton":"actualite.modifyNews.modifyButton")}),(0,I.jsx)(o.A,{className:"mr-2",onClick:()=>{t(-1)},children:f("actualite.addNews.cancelButton")})]})})]})})}},57253:(e,a,t)=>{t.d(a,{a:()=>i});var n=t(44978);t(86178);const i={articleName:[{required:!0,message:(0,n.t)("actualite.addAndModify.step1.PersonnalInfoCard.articleName.errorMessage")}],description:[{required:!0,message:(0,n.t)("actualite.addAndModify.step1.PersonnalInfoCard.description.errorMessage1")}],adversaryLogo:[{required:!0,message:"Logo de l'adversaire est requis"}],creationDate:[{required:!0,message:(0,n.t)("actualite.addAndModify.step1.PersonnalInfoCard.creationDate.errorMessage1")}]}},39998:(e,a,t)=>{t.d(a,{A:()=>d});var n=t(58168),i=t(64467),s=t(98139),l=t.n(s),r=t(65043),c=t(35296),o=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t};const d=function(e){var a,t=r.useContext(c.QO),s=t.getPrefixCls,d=t.direction,m=e.prefixCls,u=e.type,h=void 0===u?"horizontal":u,f=e.orientation,p=void 0===f?"center":f,g=e.orientationMargin,A=e.className,x=e.children,b=e.dashed,y=e.plain,j=o(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),v=s("divider",m),w=p.length>0?"-".concat(p):p,C=!!x,N="left"===p&&null!=g,D="right"===p&&null!=g,I=l()(v,"".concat(v,"-").concat(h),(a={},(0,i.A)(a,"".concat(v,"-with-text"),C),(0,i.A)(a,"".concat(v,"-with-text").concat(w),C),(0,i.A)(a,"".concat(v,"-dashed"),!!b),(0,i.A)(a,"".concat(v,"-plain"),!!y),(0,i.A)(a,"".concat(v,"-rtl"),"rtl"===d),(0,i.A)(a,"".concat(v,"-no-default-orientation-margin-left"),N),(0,i.A)(a,"".concat(v,"-no-default-orientation-margin-right"),D),a),A),k=(0,n.A)((0,n.A)({},N&&{marginLeft:g}),D&&{marginRight:g});return r.createElement("div",(0,n.A)({className:I},j,{role:"separator"}),x&&"vertical"!==h&&r.createElement("span",{className:"".concat(v,"-inner-text"),style:k},x))}},41264:(e,a,t)=>{t.d(a,{A:()=>j});var n=t(58168),i=t(64467),s=t(40164),l=t(98139),r=t.n(l),c=t(5544),o=t(53986),d=t(65043),m=t(28678),u=t(25001),h=d.forwardRef((function(e,a){var t,n=e.prefixCls,s=void 0===n?"rc-switch":n,l=e.className,h=e.checked,f=e.defaultChecked,p=e.disabled,g=e.loadingIcon,A=e.checkedChildren,x=e.unCheckedChildren,b=e.onClick,y=e.onChange,j=e.onKeyDown,v=(0,o.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,m.A)(!1,{value:h,defaultValue:f}),C=(0,c.A)(w,2),N=C[0],D=C[1];function I(e,a){var t=N;return p||(D(t=e),null===y||void 0===y||y(t,a)),t}var k=r()(s,l,(t={},(0,i.A)(t,"".concat(s,"-checked"),N),(0,i.A)(t,"".concat(s,"-disabled"),p),t));return d.createElement("button",Object.assign({},v,{type:"button",role:"switch","aria-checked":N,disabled:p,className:k,ref:a,onKeyDown:function(e){e.which===u.A.LEFT?I(!1,e):e.which===u.A.RIGHT&&I(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var a=I(!N,e);null===b||void 0===b||b(a,e)}}),g,d.createElement("span",{className:"".concat(s,"-inner")},N?A:x))}));h.displayName="Switch";const f=h;var p=t(35296),g=t(78440),A=t(87063),x=t(16021),b=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t},y=d.forwardRef((function(e,a){var t,l=e.prefixCls,c=e.size,o=e.disabled,m=e.loading,u=e.className,h=void 0===u?"":u,y=b(e,["prefixCls","size","disabled","loading","className"]),j=d.useContext(p.QO),v=j.getPrefixCls,w=j.direction,C=d.useContext(A.A),N=d.useContext(g.A),D=o||N||m,I=v("switch",l),k=d.createElement("div",{className:"".concat(I,"-handle")},m&&d.createElement(s.A,{className:"".concat(I,"-loading-icon")})),E=r()((t={},(0,i.A)(t,"".concat(I,"-small"),"small"===(c||C)),(0,i.A)(t,"".concat(I,"-loading"),m),(0,i.A)(t,"".concat(I,"-rtl"),"rtl"===w),t),h);return d.createElement(x.A,{insertExtraNode:!0},d.createElement(f,(0,n.A)({},y,{prefixCls:I,className:E,disabled:D,ref:a,loadingIcon:k})))}));y.__ANT_SWITCH=!0;const j=y}}]);
//# sourceMappingURL=3615.57f5c2f4.chunk.js.map