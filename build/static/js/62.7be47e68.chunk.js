"use strict";(self.webpackChunkMobileApps=self.webpackChunkMobileApps||[]).push([[62],{44662:(e,n,a)=>{a.d(n,{A:()=>c});var t=a(65043),i=a(83003),s=a(79951),l=a(70579);const c=(0,i.Ng)((e=>{let{theme:n}=e;const{navType:a}=n;return{navType:a}}),{})((e=>{let{children:n,background:a,className:i,overlap:c,navType:r}=e;const[d,o]=(0,t.useState)(0),m=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(r===s.HG){const e=window.innerWidth,n=m.current.offsetWidth;o((e-n)/2)}}),[r]);return(0,l.jsx)("div",{ref:m,className:"page-header-alt ".concat(i||""," ").concat(c&&"overlap"),style:(()=>{let e={backgroundImage:a?"url(".concat(a,")"):"none"};return r===s.HG&&(e.marginRight=-d,e.marginLeft=-d,e.paddingLeft=0,e.paddingRight=0),e})(),children:r===s.HG?(0,l.jsx)("div",{className:"container",children:n}):(0,l.jsx)(l.Fragment,{children:n})})}))},8572:(e,n,a)=>{a.d(n,{A:()=>s});a(65043);var t=a(70579);const i=e=>{const{children:n,className:a,alignItems:i,justifyContent:s,mobileFlex:l,flexDirection:c}=e;return(0,t.jsx)("div",{className:"".concat(l?"d-flex":"d-md-flex"," ").concat(a," ").concat(c?"flex-"+c:""," ").concat(i?"align-items-"+i:""," ").concat(s?"justify-content-"+s:""),children:n})};i.defaultProps={mobileFlex:!0,flexDirection:"row",className:""};const s=i},6706:(e,n,a)=>{a.d(n,{Y:()=>t});const t="https://backend.mobile-apps-dz.com/uploads/images/"},62:(e,n,a)=>{a.r(n),a.d(n,{default:()=>s});a(65043);var t=a(43850),i=a(70579);const s=()=>(0,i.jsx)(t.A,{mode:"EDIT"})},43850:(e,n,a)=>{a.d(n,{A:()=>R});var t=a(65043),i=a(44662),s=a(94406),l=a(50289),c=a(48193),r=a(64435),d=a(89421),o=a(8572),m=a(73216),u=a(83003),h=a(74117),g=a(44978),p=a(33307),x=a(33122),f=a(47419),A=a(11645),j=a(41264),v=a(94733);const b={title:[{required:!0,message:(0,g.t)("the company name is required")}],description:[{required:!0,message:(0,g.t)("the description is required")}],image:[{required:!0,message:(0,g.t)("the image is required")}],duration:[{required:!0,message:(0,g.t)("the duration is required")}],location:[{required:!0,message:(0,g.t)("the location is required")}]};var y=a(77977),C=a(58345),w=a.n(C),N=a(70579);const{Option:k}=s.A,{TextArea:E}=p.A,{Dragger:I}=x.A,D=e=>{const{mode:n}=e,{t:a}=(0,h.Bd)(),[i,c]=((0,u.wA)(),(0,t.useState)([])),[r,o]=(0,t.useState)(!1),m={onRemove:e=>{const n=i.indexOf(e),a=i.slice();a.splice(n,1),c(a)},beforeUpload:e=>(c([...i,e]),!1),fileList:i},[g,C]=(0,t.useState)(""),{ad:E}=(0,u.d4)((e=>e.ad));return(0,t.useEffect)((()=>{"EDIT"===n&&E&&C(E.description||"")}),[n,E]),(0,N.jsx)("div",{children:(0,N.jsx)(f.A,{gutter:16,align:"middle",children:(0,N.jsxs)(A.A,{xs:24,sm:24,md:24,children:[(0,N.jsx)(f.A,{gutter:16,children:(0,N.jsx)(A.A,{xs:24,sm:24,md:24,children:(0,N.jsx)(l.A.Item,{name:"title",label:a("Title"),rules:b.title,children:(0,N.jsx)(p.A,{})})})}),(0,N.jsx)(l.A.Item,{label:a("display"),name:"isShown",valuePropName:"checked",children:(0,N.jsx)(j.A,{defaultChecked:null===E||void 0===E?void 0:E.isShown})}),(0,N.jsx)(f.A,{gutter:16,children:(0,N.jsx)(A.A,{xs:24,sm:24,md:24,children:(0,N.jsx)(l.A.Item,{name:"location",label:a("Location"),rules:b.location,children:(0,N.jsxs)(s.A,{placeholder:a("Select a location"),children:[(0,N.jsx)(k,{value:"1",children:"1"}),(0,N.jsx)(k,{value:"2",children:"2"}),(0,N.jsx)(k,{value:"3",children:"3"}),(0,N.jsx)(k,{value:"4",children:"4"}),(0,N.jsx)(k,{value:"5",children:"5"})]})})})}),(0,N.jsx)(f.A,{gutter:16,children:(0,N.jsx)(A.A,{xs:24,sm:24,md:24,children:(0,N.jsx)(l.A.Item,{name:"duration",label:a("Duration"),rules:b.duration,children:(0,N.jsx)(p.A,{})})})}),(0,N.jsx)(l.A.Item,{label:a("image"),name:"image",rules:b.image,valuePropName:"fileList",getValueFromEvent:e=>e.fileList,children:(0,N.jsx)(x.A,{accept:"image/*",maxCount:1,listType:"picture",...m,className:"custom-upload",children:(0,N.jsx)(d.A,{icon:(0,N.jsx)(v.A,{}),children:a("Add an image")})})}),(0,N.jsx)(l.A.Item,{label:a("link"),name:"video",children:(0,N.jsx)(p.A,{})}),(0,N.jsx)(l.A.Item,{label:"Description",name:"description",children:(0,N.jsx)(y.CKEditor,{editor:w(),data:g,onChange:(n,a)=>{const t=a.getData();C(t),e.onEditorChange&&e.onEditorChange(t)},onReady:e=>{e.editing.view.change((n=>{n.setStyle("min-height","200px",e.editing.view.document.getRoot())}))},config:{language:"fr",direction:"ltr"}})})]})})})};var S=a(52771),O=a(6706);const{Option:F}=s.A,T="ADD",q="EDIT",R=e=>{const{mode:n=T}=e,a=(0,m.Zp)(),s=(0,u.wA)(),{t:g}=(0,h.Bd)(),[p]=l.A.useForm(),[x,f]=(0,t.useState)(""),[A,j]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),{id:y}=(0,m.g)(),[C,w]=(0,t.useState)(null),{error:k,ad:E,loading:I}=(0,u.d4)((e=>e.ad));(0,t.useEffect)((()=>{n===q&&(console.log(y),s((0,S.CY)(y)).unwrap().catch((e=>{console.error("Error fetching ad:",e),c.Ay.error(g("Error fetching ad: ")+e.message)})))}),[s,n,y,g]),(0,t.useEffect)((()=>{if(n===q&&E){const e={...E};if(p.setFieldsValue(e),E.image){const e=[{uid:"-1",name:E.image[0].originalname,status:"done",url:"".concat(O.Y+E.image[0].filename)}];p.setFieldsValue({image:e})}}}),[p,n,E]);const[F,R]=(0,t.useState)("");return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(l.A,{layout:"vertical",form:p,onFinish:async()=>{try{const e=await p.validateFields(),t=new FormData;t.append("title",e.title),t.append("isShown",e.isShown),t.append("description",F),t.append("location",e.location),t.append("duration",e.duration),e.image&&e.image[0]&&t.append("image",e.image[0].originFileObj),e.video&&e.video[0]&&t.append("video",e.video[0].originFileObj),n===T&&(await s((0,S.Yv)(t)).unwrap(),c.Ay.success(g("Ad added successfully!"),1),a(-1)),n===q&&(await s((0,S.hI)({id:E._id,data:t})).unwrap(),await c.Ay.success(g("Ad updated!"),1),a(-1))}catch(k){c.Ay.error(k)}finally{s((0,S.RZ)())}},name:"Nanny-form",className:"ant-advanced-search-form",initialValues:C,children:[(0,N.jsx)(i.A,{className:"border-bottom mb-4",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsx)(o.A,{mobileFlex:!1,justifyContent:"between",alignItems:"center",children:(0,N.jsx)("div",{children:(0,N.jsx)("h2",{className:"mb-3",style:{display:"inline-block"},children:g("ADD"===n?"Add an ad":"Edit ad")})})})})}),(0,N.jsx)("div",{className:"container",children:(0,N.jsx)(D,{mode:n,onEditorChange:e=>{R(e)}})}),(0,N.jsx)(o.A,{justifyContent:"center",children:(0,N.jsxs)(r.A,{size:"middle",className:"mb-3",children:[(0,N.jsx)(d.A,{type:"primary",htmlType:"submit",children:g("ADD"===n?"Add an ad":"Edit ad")}),(0,N.jsx)(d.A,{className:"mr-2",onClick:()=>{a(-1)},children:g("cancel")})]})})]})})}},41264:(e,n,a)=>{a.d(n,{A:()=>b});var t=a(58168),i=a(64467),s=a(40164),l=a(98139),c=a.n(l),r=a(5544),d=a(53986),o=a(65043),m=a(28678),u=a(25001),h=o.forwardRef((function(e,n){var a,t=e.prefixCls,s=void 0===t?"rc-switch":t,l=e.className,h=e.checked,g=e.defaultChecked,p=e.disabled,x=e.loadingIcon,f=e.checkedChildren,A=e.unCheckedChildren,j=e.onClick,v=e.onChange,b=e.onKeyDown,y=(0,d.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,m.A)(!1,{value:h,defaultValue:g}),w=(0,r.A)(C,2),N=w[0],k=w[1];function E(e,n){var a=N;return p||(k(a=e),null===v||void 0===v||v(a,n)),a}var I=c()(s,l,(a={},(0,i.A)(a,"".concat(s,"-checked"),N),(0,i.A)(a,"".concat(s,"-disabled"),p),a));return o.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":N,disabled:p,className:I,ref:n,onKeyDown:function(e){e.which===u.A.LEFT?E(!1,e):e.which===u.A.RIGHT&&E(!0,e),null===b||void 0===b||b(e)},onClick:function(e){var n=E(!N,e);null===j||void 0===j||j(n,e)}}),x,o.createElement("span",{className:"".concat(s,"-inner")},N?f:A))}));h.displayName="Switch";const g=h;var p=a(35296),x=a(78440),f=a(87063),A=a(16021),j=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(a[t[i]]=e[t[i]])}return a},v=o.forwardRef((function(e,n){var a,l=e.prefixCls,r=e.size,d=e.disabled,m=e.loading,u=e.className,h=void 0===u?"":u,v=j(e,["prefixCls","size","disabled","loading","className"]),b=o.useContext(p.QO),y=b.getPrefixCls,C=b.direction,w=o.useContext(f.A),N=o.useContext(x.A),k=d||N||m,E=y("switch",l),I=o.createElement("div",{className:"".concat(E,"-handle")},m&&o.createElement(s.A,{className:"".concat(E,"-loading-icon")})),D=c()((a={},(0,i.A)(a,"".concat(E,"-small"),"small"===(r||w)),(0,i.A)(a,"".concat(E,"-loading"),m),(0,i.A)(a,"".concat(E,"-rtl"),"rtl"===C),a),h);return o.createElement(A.A,{insertExtraNode:!0},o.createElement(g,(0,t.A)({},v,{prefixCls:E,className:D,disabled:k,ref:n,loadingIcon:I})))}));v.__ANT_SWITCH=!0;const b=v}}]);
//# sourceMappingURL=62.7be47e68.chunk.js.map